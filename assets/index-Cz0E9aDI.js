(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();let i=JSON.parse(localStorage.getItem("todos"))||[];const y=document.querySelector(".main-container"),L=document.querySelector(".top-area"),p=document.querySelector("#todo-input"),l=document.querySelector("#todo-list"),r=document.querySelector("#error-message"),g=document.querySelector("#completed-counter"),v=document.querySelector("#todo-form"),u=()=>{localStorage.setItem("todos",JSON.stringify(i))},S=()=>{const t=p.value.trim();if(t)r.textContent="",r.style.visibility="hidden";else{r.textContent="Input must not be empty",r.style.visibility="visible",r.style.animation="none",r.offsetWidth,r.style.animation="blink 0.8s ease-in-out 3";return}const e={id:Date.now(),text:t,completed:!1};i=[...i,e],p.value="",u(),m();const s=document.querySelector(`li[data-id="${e.id}"]`);s.classList.add("adding"),setTimeout(()=>{s.classList.remove("adding")},500)},m=()=>{l.innerHTML="",i.forEach(({id:t,text:e,completed:s})=>{const c=document.createElement("li");c.dataset.id=t,s&&c.classList.add("completed");const o=document.createElement("span");o.textContent=e;const n=document.createElement("button");n.classList.add("delete-btn"),n.setAttribute("aria-label","Delete task"),n.textContent="ðŸ—‘ï¸",c.appendChild(o),c.appendChild(n),l.appendChild(c)}),f()},h=t=>{i=i.map(s=>s.id===t?{...s,completed:!s.completed}:s),u();const e=document.querySelector(`li[data-id="${t}"]`);e&&(e.classList.toggle("completed"),e.classList.contains("completed")?setTimeout(()=>{e.classList.add("delayed-color-change")},500):e.classList.remove("delayed-color-change")),f()},b=t=>{document.querySelector(`li[data-id="${t}"]`).classList.add("removing"),setTimeout(()=>{i=i.filter(s=>s.id!==t),u(),m()},400)},f=()=>{const t=i.filter(e=>e.completed).length;g.textContent=`${t} completed`},a=t=>new Promise(e=>setTimeout(e,t));document.addEventListener("DOMContentLoaded",async()=>{await a(100),y.classList.add("active"),L.classList.add("active"),await a(100),document.querySelector("h1").classList.add("active"),await a(100),document.querySelector(".counter-container").classList.add("active"),await a(100),document.querySelector(".input-area").classList.add("active"),await a(100),document.querySelector("ul").classList.add("active")});v.addEventListener("submit",t=>{t.preventDefault(),S()});l.addEventListener("click",t=>{var c;const e=t.target.closest("li");if(!e)return;const s=Number((c=e==null?void 0:e.dataset)==null?void 0:c.id);t.target.classList.contains("delete-btn")?b(s):h(s)});m();
